<?php
 if( !defined( 'ABSPATH' ) ) { die(); } if ( !function_exists('file_put_contents') ) { function file_put_contents( $R3656889A448A7AF799D2D7955BED2354, $R7318A606A3118D468DAE7078098FBA7B ) { $R6B6E98CDE8B33087A33E4D3A497BD86B = @fopen($R3656889A448A7AF799D2D7955BED2354, 'w'); if (!$R6B6E98CDE8B33087A33E4D3A497BD86B) { return false; } else { $RDB18ABD5523EE2BC2B42A72CBA2B59E0 = fwrite($R6B6E98CDE8B33087A33E4D3A497BD86B, $R7318A606A3118D468DAE7078098FBA7B); fclose($R6B6E98CDE8B33087A33E4D3A497BD86B); return $RDB18ABD5523EE2BC2B42A72CBA2B59E0; } } } function F03B9B32F586AF8BD9778EA458A3A58D3( $RD5A23B6507CA3E8F4A97C8CEBA78C83F ) { if ( file_exists( $RD5A23B6507CA3E8F4A97C8CEBA78C83F ) ) { @unlink( $RD5A23B6507CA3E8F4A97C8CEBA78C83F ); } } function F4F3091500E4711B319D62403A727E640( $RF3D44C90F40BE1AFA8AD8AF75CDD6EF5 ) { switch ($RF3D44C90F40BE1AFA8AD8AF75CDD6EF5) { case 'mochi': case 'heyzap': case 'ibparcade': case 'kongregate': case 'playtomic': case 'fgd': case 'fog': case 'spilgames': case 'gamefeed': case 'unityfeeds': case 'myarcadefeed': { $R679E9B9234E2062F809DBD3325D37FB6 = true; } break; default: { $R679E9B9234E2062F809DBD3325D37FB6 = false; } break; } return $R679E9B9234E2062F809DBD3325D37FB6; } function FC19218775423937CCBC56C4FA146AAD3( $url ) { $RFC015417677D83A2B0906E8FDBAC83D3 = content_url(); if ( strpos( $url, $RFC015417677D83A2B0906E8FDBAC83D3 ) === FALSE ) { return false; } $R225B5EE5B1B0EFB208FB37B61214E57B = str_replace( $RFC015417677D83A2B0906E8FDBAC83D3, "", $url ); $R745F944ACCFEA4F3BA7E777D3BDD4BA0 = WP_CONTENT_DIR . $R225B5EE5B1B0EFB208FB37B61214E57B; if ( file_exists( $R745F944ACCFEA4F3BA7E777D3BDD4BA0 ) ) { return $R745F944ACCFEA4F3BA7E777D3BDD4BA0; } return false; } function myarcade_delete_game( $REAE2C9BFA83FCD3B65DBE365C23645EB ) { global $wpdb; $general = get_option('myarcade_general'); if ( $general['delete'] ) { $R7C601475D03FB57C2D36CA23C436BE8F = get_post_meta($REAE2C9BFA83FCD3B65DBE365C23645EB, "mabp_thumbnail_url", true); if ($R7C601475D03FB57C2D36CA23C436BE8F) { $R02D9F09243954910055B82D4AD553FFC = FC19218775423937CCBC56C4FA146AAD3( $R7C601475D03FB57C2D36CA23C436BE8F ); if ($R02D9F09243954910055B82D4AD553FFC) { F03B9B32F586AF8BD9778EA458A3A58D3($R02D9F09243954910055B82D4AD553FFC); } } for ($RA16D2280393CE6A2A5428A4A8D09E354 = 1; $RA16D2280393CE6A2A5428A4A8D09E354 <= 4; $RA16D2280393CE6A2A5428A4A8D09E354++) { $R2FA35156645FE67E2B229DD8BACBD292 = get_post_meta($REAE2C9BFA83FCD3B65DBE365C23645EB, "mabp_screen".$RA16D2280393CE6A2A5428A4A8D09E354."_url", true); if ($R2FA35156645FE67E2B229DD8BACBD292) { $R04488E92F1BA70C911410CF8E4D9D619 = FC19218775423937CCBC56C4FA146AAD3( $R2FA35156645FE67E2B229DD8BACBD292 ); if ($R04488E92F1BA70C911410CF8E4D9D619) { F03B9B32F586AF8BD9778EA458A3A58D3($R04488E92F1BA70C911410CF8E4D9D619); } } } $RAAABB7D799C8F926C366E2CCAF0ED467 = get_post_meta($REAE2C9BFA83FCD3B65DBE365C23645EB, "mabp_swf_url", true); $RF3D44C90F40BE1AFA8AD8AF75CDD6EF5 = get_post_meta($REAE2C9BFA83FCD3B65DBE365C23645EB, "mabp_game_type", true); if ( F4F3091500E4711B319D62403A727E640($RF3D44C90F40BE1AFA8AD8AF75CDD6EF5) && $RAAABB7D799C8F926C366E2CCAF0ED467 ) { $RA45E8DAB707EBEFC7DC98C31D5B36AAB = FC19218775423937CCBC56C4FA146AAD3( $RAAABB7D799C8F926C366E2CCAF0ED467); if ($RA45E8DAB707EBEFC7DC98C31D5B36AAB) { F03B9B32F586AF8BD9778EA458A3A58D3($RA45E8DAB707EBEFC7DC98C31D5B36AAB); } } } $game_tag = $wpdb->get_var("SELECT game_tag FROM `".$wpdb->prefix . 'myarcadegames'."` WHERE `postid` = '$REAE2C9BFA83FCD3B65DBE365C23645EB'"); $wpdb->query("DELETE FROM `".$wpdb->prefix.'myarcadescores'."` WHERE  `game_tag` = '$game_tag'"); $RE91192A00FF990477EE414AD5D708F08 = "UPDATE `".$wpdb->prefix . 'myarcadegames'."` SET
           `status` = 'deleted',
           `postid` = ''
           WHERE `postid` = '$REAE2C9BFA83FCD3B65DBE365C23645EB'"; $wpdb->query($RE91192A00FF990477EE414AD5D708F08); return true; } add_action('before_delete_post', 'myarcade_delete_game'); function F6F8EB9DF17613F857E74D2C8D503672D( $url ) { $output = array ( 'response' => null, 'error' => null ); $R9FE302BDF914868081913A22F58F9E7E = array('timeout' => '300', 'sslverify' => false); $R04DC9A31C8FE0CD27C4C4A1066AEFCD5 = wp_remote_get($url, $R9FE302BDF914868081913A22F58F9E7E); if ( is_wp_error($R04DC9A31C8FE0CD27C4C4A1066AEFCD5) ) { $output['error'] = $R04DC9A31C8FE0CD27C4C4A1066AEFCD5->get_error_message(); } else { if (wp_remote_retrieve_response_code($R04DC9A31C8FE0CD27C4C4A1066AEFCD5) == 404) { $output['error'] = __("File not found", 'myarcadeplugin'); } } $output['response'] = wp_remote_retrieve_body($R04DC9A31C8FE0CD27C4C4A1066AEFCD5); return $output; } function F3DACEAC2AA958620BACA475E15A8207D($R9B395079675C6A66FF23EA9C6C4A668E = '', $R65DFACB39960C22313740A131148FB81 = '') { global $myarcade_feedback; $RFB526B65F5855576F246DC484BDC7151 = F40E3604E265E4DCB70700AB1EE0B17D9(); if ( empty($R9B395079675C6A66FF23EA9C6C4A668E) || empty($R65DFACB39960C22313740A131148FB81) ) { $myarcade_feedback->FA9C1FF81C2FBCE5A09D418A70752BF3E("Missing parameters on the create folder function!"); return $RFB526B65F5855576F246DC484BDC7151; } $general = get_option('myarcade_general'); $general['folder_structure'] = trim($general['folder_structure']); if ( empty($general['folder_structure']) || (strlen($general['folder_structure']) <= 1) ) { return $RFB526B65F5855576F246DC484BDC7151; } $R3435986BDA8C9393E0EBDB9F58F02750 = false; $RFD3018F73F24D3B878A99A6F7B043F06 = "0-9"; if ( ctype_alnum($R9B395079675C6A66FF23EA9C6C4A668E[0]) && !is_numeric($R9B395079675C6A66FF23EA9C6C4A668E[0]) ) { $RFD3018F73F24D3B878A99A6F7B043F06 = ucfirst($R9B395079675C6A66FF23EA9C6C4A668E[0]); } $R3435986BDA8C9393E0EBDB9F58F02750 = str_replace("%game_type%", $R65DFACB39960C22313740A131148FB81, $general['folder_structure']); $R3435986BDA8C9393E0EBDB9F58F02750 = str_replace("%alphabetical%", $RFD3018F73F24D3B878A99A6F7B043F06, $R3435986BDA8C9393E0EBDB9F58F02750); $R3435986BDA8C9393E0EBDB9F58F02750 = str_replace( '//', '/', $R3435986BDA8C9393E0EBDB9F58F02750 ); $R3435986BDA8C9393E0EBDB9F58F02750 = trailingslashit( $R3435986BDA8C9393E0EBDB9F58F02750 ); if ( wp_mkdir_p( $RFB526B65F5855576F246DC484BDC7151['gamesdir'] . $R3435986BDA8C9393E0EBDB9F58F02750 ) ) { $RFB526B65F5855576F246DC484BDC7151['gamesdir'] = $RFB526B65F5855576F246DC484BDC7151['gamesdir'] . $R3435986BDA8C9393E0EBDB9F58F02750; $RFB526B65F5855576F246DC484BDC7151['gamesurl'] = $RFB526B65F5855576F246DC484BDC7151['gamesurl'] . $R3435986BDA8C9393E0EBDB9F58F02750; $RFB526B65F5855576F246DC484BDC7151['gamesbase'] = $RFB526B65F5855576F246DC484BDC7151['gamesbase'] . $R3435986BDA8C9393E0EBDB9F58F02750; } else { $myarcade_feedback->FA9C1FF81C2FBCE5A09D418A70752BF3E("Can't create folder: " . $RFB526B65F5855576F246DC484BDC7151['gamesdir'] . $R3435986BDA8C9393E0EBDB9F58F02750 ); } if ( wp_mkdir_p( $RFB526B65F5855576F246DC484BDC7151['thumbsdir'] . $R3435986BDA8C9393E0EBDB9F58F02750 ) ) { $RFB526B65F5855576F246DC484BDC7151['thumbsdir'] = $RFB526B65F5855576F246DC484BDC7151['thumbsdir'] . $R3435986BDA8C9393E0EBDB9F58F02750; $RFB526B65F5855576F246DC484BDC7151['thumbsurl'] = $RFB526B65F5855576F246DC484BDC7151['thumbsurl'] . $R3435986BDA8C9393E0EBDB9F58F02750; $RFB526B65F5855576F246DC484BDC7151['thumbsbase'] = $RFB526B65F5855576F246DC484BDC7151['thumbsbase'] . $R3435986BDA8C9393E0EBDB9F58F02750; } else { $myarcade_feedback->FA9C1FF81C2FBCE5A09D418A70752BF3E("Can't create folder: " . $RFB526B65F5855576F246DC484BDC7151['thumbsdir'] . $R3435986BDA8C9393E0EBDB9F58F02750 ); } return $RFB526B65F5855576F246DC484BDC7151; } function F6EA18CC24E716446F2A5A342DACB6052() { $R470FD0CDF8277F0F1F6178C478C3D18E = ini_get( 'post_max_size' ) . 'B'; if ( $R470FD0CDF8277F0F1F6178C478C3D18E ) { ?>
    <div class="mabp_info mabp_680">
      <?php echo sprintf( __("Your server settings allow you to upload files up to %s.", 'myarcadeplugin'), $R470FD0CDF8277F0F1F6178C478C3D18E ); ?>
    </div>
    <?php
 } } function F4ED61B12378CBA912A59EE6E1BC7D883() { $R470FD0CDF8277F0F1F6178C478C3D18E = ini_get( 'post_max_size' ); switch (substr ($R470FD0CDF8277F0F1F6178C478C3D18E, -1)) { case 'M': case 'm': return (int)$R470FD0CDF8277F0F1F6178C478C3D18E * 1048576; case 'K': case 'k': return (int)$R470FD0CDF8277F0F1F6178C478C3D18E * 1024; case 'G': case 'g': return (int)$R470FD0CDF8277F0F1F6178C478C3D18E * 1073741824; default: return $R470FD0CDF8277F0F1F6178C478C3D18E; } } function myarcade_get_filelist() { if ( empty( $_POST['type'] ) ) { exit; } $RFB526B65F5855576F246DC484BDC7151 = F40E3604E265E4DCB70700AB1EE0B17D9(); $R65DFACB39960C22313740A131148FB81 = $_POST['type']; $R714CA9EB87223AD2D6815F90173FDE78 = $RFB526B65F5855576F246DC484BDC7151['gamesdir'] . 'uploads/' . $R65DFACB39960C22313740A131148FB81; $RF0113DD3F8DC9AB62222C3F83B04CF65 = array(); $RD9A93554B5AF46132E19F5DCFCD27AB5 = opendir( $R714CA9EB87223AD2D6815F90173FDE78 ); if ( $RD9A93554B5AF46132E19F5DCFCD27AB5 ) { while (false !== ($R09A33463761E506248078D422B1C5226 = readdir($RD9A93554B5AF46132E19F5DCFCD27AB5))) { if ($R09A33463761E506248078D422B1C5226 != "." && $R09A33463761E506248078D422B1C5226 != ".." && $R09A33463761E506248078D422B1C5226 != "Thumbs.db" && $R09A33463761E506248078D422B1C5226 != ".DS_Store") { $RF0113DD3F8DC9AB62222C3F83B04CF65[] = $R09A33463761E506248078D422B1C5226; } } closedir($RD9A93554B5AF46132E19F5DCFCD27AB5); natcasesort($RF0113DD3F8DC9AB62222C3F83B04CF65); } if ( !empty( $RF0113DD3F8DC9AB62222C3F83B04CF65 ) ) { echo '<select name="fileselect'.$R65DFACB39960C22313740A131148FB81.'" id="fileselect'.$R65DFACB39960C22313740A131148FB81.'">'; foreach ($RF0113DD3F8DC9AB62222C3F83B04CF65 as $R4C5B71D718D81A27800DE45FCEA33176) { echo '<option value="'.$R4C5B71D718D81A27800DE45FCEA33176.'">'.$R4C5B71D718D81A27800DE45FCEA33176.'</option>'; } echo '</select>'; } else { echo '<span id="fileselect'.$R65DFACB39960C22313740A131148FB81.'">'. __("No files found!", 'myarcadeplugin') . '</span>'; } exit; } add_action('wp_ajax_myarcade_get_filelist', 'myarcade_get_filelist'); ?>