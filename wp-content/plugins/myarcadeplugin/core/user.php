<?php
 if( !defined( 'ABSPATH' ) ) { die(); } function myarcade_register_user( $user_ID ) { global $wpdb; if ( isset($user_ID) && is_int($user_ID) ) { $wpdb->query("INSERT INTO ".$wpdb->prefix.'myarcadeuser'." (
        `user_id`, `points`, `plays`
          ) VALUES (
        $user_ID,
        '0',
        '1'
      )" ); } } add_action('user_reguster','myarcade_register_user'); function F81A4AE8242305B4F51ADA8D99B0001F7() { global $user_ID, $wpdb; $RFC414A358502FCF73C357861910B2FC0 = true; $general = get_option('myarcade_general'); get_currentuserinfo(); if ( empty($general['play_delay']) ) { $general['play_delay'] = 30; } $R062571FDD32EE7041268CA726716BF33 = time(); $R6412C82A3DC0CA7F42F8931A4EA40842 = $R062571FDD32EE7041268CA726716BF33 - (int) F3E938839269BA073114D7B5FB1A40B3C('last_play'); if ( $R6412C82A3DC0CA7F42F8931A4EA40842 > $general['play_delay'] ) { F8C1784196801EF1A9B9A586B4B6752CD( 'last_play', $R062571FDD32EE7041268CA726716BF33 ); if ( !empty($user_ID) ) { $RFC414A358502FCF73C357861910B2FC0 = apply_filters( 'myarcade_play_check', $RFC414A358502FCF73C357861910B2FC0 ); if ( !$RFC414A358502FCF73C357861910B2FC0 ) { return false; } do_action('myarcade_update_play_points'); do_action('myarcade_game_play'); $RCABD49CBF4B2EF2A3420ED4F808B515B = $wpdb->get_var("SELECT `id` FROM ".$wpdb->prefix.'myarcadeuser'." WHERE `user_id` = '$user_ID'"); if ( empty ($RCABD49CBF4B2EF2A3420ED4F808B515B) ) { myarcade_register_user($user_ID); } else { $RE91192A00FF990477EE414AD5D708F08 = "UPDATE ".$wpdb->prefix.'myarcadeuser'." SET `plays` = `plays`+1 WHERE `user_id` = '$user_ID'"; $wpdb->query($RE91192A00FF990477EE414AD5D708F08); } } else { F8C1784196801EF1A9B9A586B4B6752CD('plays', F3E938839269BA073114D7B5FB1A40B3C('plays') + 1); } } if ( empty($user_ID) ) { if ( intval( $general['limit_plays'] ) > '0' ) { $R2C13D5996A35A6262EF07823C1002FDC = F3E938839269BA073114D7B5FB1A40B3C('plays'); if ( $R2C13D5996A35A6262EF07823C1002FDC >= intval( $general['limit_plays'] ) ) { $RFC414A358502FCF73C357861910B2FC0 = false; if ( !empty($general['limit_message']) ) { echo $general['limit_message']; } } } } return $RFC414A358502FCF73C357861910B2FC0; } function F8D7A841BE2BAF925673E60D5753C8806() { global $RB0B67211D8336990FD66EAF68E92E9BA; $R69B89C0DC98B6F0630C7121E4D58D57D = 'get_option'; $RFBBDDB87DD5C60CEE520FBAEFAC37E23 = 'update_option'; if ( F0481A4A1CC6096D41DE35B46DE0FBDEE() ) { $R69B89C0DC98B6F0630C7121E4D58D57D = 'get_site_option'; $RFBBDDB87DD5C60CEE520FBAEFAC37E23 = 'update_site_option'; } $RF413F06AEBBCEF5E1C8B1019DEE6FE6B = $R69B89C0DC98B6F0630C7121E4D58D57D( $RB0B67211D8336990FD66EAF68E92E9BA('bXlhcmNhZGVfc2NobHVlc3NlbA==') ); if ( $RF413F06AEBBCEF5E1C8B1019DEE6FE6B ) { return $RF413F06AEBBCEF5E1C8B1019DEE6FE6B; } else { $RFBBDDB87DD5C60CEE520FBAEFAC37E23($RB0B67211D8336990FD66EAF68E92E9BA('bXlhcmNhZGVfcHJ1ZWY='), ''); $RFBBDDB87DD5C60CEE520FBAEFAC37E23($RB0B67211D8336990FD66EAF68E92E9BA('bXlhcmNhZGVfaGFzaA=='), ''); } return false; } function F790546AC0F0D11F386CE37AD2D03A1E5( $RE71E44381B9EF2710E4EDF4A4A9E13F0 = false ) { global $RB0B67211D8336990FD66EAF68E92E9BA; $R69B89C0DC98B6F0630C7121E4D58D57D = 'get_option'; $RFBBDDB87DD5C60CEE520FBAEFAC37E23 = 'update_option'; if ( F0481A4A1CC6096D41DE35B46DE0FBDEE() ) { $R69B89C0DC98B6F0630C7121E4D58D57D = 'get_site_option'; $RFBBDDB87DD5C60CEE520FBAEFAC37E23 = 'update_site_option'; } if ( $RE71E44381B9EF2710E4EDF4A4A9E13F0 !== FALSE ) { $RFBBDDB87DD5C60CEE520FBAEFAC37E23( $RB0B67211D8336990FD66EAF68E92E9BA('bXlhcmNhZGVfc3RhdHVz'), $RE71E44381B9EF2710E4EDF4A4A9E13F0 ); return $RE71E44381B9EF2710E4EDF4A4A9E13F0; } else { return $R69B89C0DC98B6F0630C7121E4D58D57D( $RB0B67211D8336990FD66EAF68E92E9BA('bXlhcmNhZGVfc3RhdHVz') ); } } function F43A1629EEED28F0DD89DAC6D63D2CC2F() { global $RB0B67211D8336990FD66EAF68E92E9BA; $R69B89C0DC98B6F0630C7121E4D58D57D = 'get_option'; if ( F0481A4A1CC6096D41DE35B46DE0FBDEE() ) { $R69B89C0DC98B6F0630C7121E4D58D57D = 'get_site_option'; } return $R69B89C0DC98B6F0630C7121E4D58D57D( $RB0B67211D8336990FD66EAF68E92E9BA('bXlhcmNhZGVfcHJ1ZWY=') ); } function F55D36D0CA20C7EC99CD0758E6C482CFE() { global $RB0B67211D8336990FD66EAF68E92E9BA; $R69B89C0DC98B6F0630C7121E4D58D57D = 'get_option'; if ( F0481A4A1CC6096D41DE35B46DE0FBDEE() ) { $R69B89C0DC98B6F0630C7121E4D58D57D = 'get_site_option'; } return $R69B89C0DC98B6F0630C7121E4D58D57D( $RB0B67211D8336990FD66EAF68E92E9BA('bXlhcmNhZGVfaGFzaA==') ); } function F665E375F4876C415C2A88BC9D33FF80D($url) { $R70A6D6B673FB64A80C2E0DDBF4A3D461 = wp_remote_fopen($url); if (!$R70A6D6B673FB64A80C2E0DDBF4A3D461 && function_exists('fsockopen')) { $R5353A97FB7EC2FD5FE0D4B84E1A0072C = parse_url($url); $R30B1912943E22E8B52ABED4FC06AA67B= 'GET ' .$R5353A97FB7EC2FD5FE0D4B84E1A0072C['path']. ($R5353A97FB7EC2FD5FE0D4B84E1A0072C['query'] ? '?' .$R5353A97FB7EC2FD5FE0D4B84E1A0072C['query'] : ''). " HTTP/1.0\r\n"; $R30B1912943E22E8B52ABED4FC06AA67B .= "Host: " .$R5353A97FB7EC2FD5FE0D4B84E1A0072C['host']. "\r\n"; $R30B1912943E22E8B52ABED4FC06AA67B .= 'Content-Type: application/x-www-form-urlencoded;
     charset=' .get_option('blog_charset'). "\r\n"; $R30B1912943E22E8B52ABED4FC06AA67B .= "Connection: Close\r\n\r\n"; $R04DC9A31C8FE0CD27C4C4A1066AEFCD5 = ''; if (false != ($R3D36631C17A410207D32E9D80D60F4B5 = fsockopen($R5353A97FB7EC2FD5FE0D4B84E1A0072C['host'], 80, $R32D00070D4FFBCCE2FC669BBA812D4C2, $R5F525F5B398DADD7CF0784BD406298E3, 10))) { fwrite($R3D36631C17A410207D32E9D80D60F4B5, $R30B1912943E22E8B52ABED4FC06AA67B); while (!feof($R3D36631C17A410207D32E9D80D60F4B5)) { $R04DC9A31C8FE0CD27C4C4A1066AEFCD5 .= fgets($R3D36631C17A410207D32E9D80D60F4B5, 1160); } fclose($R3D36631C17A410207D32E9D80D60F4B5); $R04DC9A31C8FE0CD27C4C4A1066AEFCD5 = explode("\r\n\r\n", $R04DC9A31C8FE0CD27C4C4A1066AEFCD5, 2); $R70A6D6B673FB64A80C2E0DDBF4A3D461 = $R04DC9A31C8FE0CD27C4C4A1066AEFCD5[1]; } } return $R70A6D6B673FB64A80C2E0DDBF4A3D461; } function F388080D38BBDFFA4035EF54227999856() { global $user_ID; get_currentuserinfo(); if ( empty($user_ID) ) { return false; } $R33838C07ACECD3AEB3F3178738134979 = get_avatar( $user_ID, '50'); preg_match('/src=[\',"](.*?)[\',"]/i', $R33838C07ACECD3AEB3F3178738134979, $R2BC3A0F3554F7C295CD3CC4A57492121); if ( !empty( $R2BC3A0F3554F7C295CD3CC4A57492121[1] ) ) { return $R2BC3A0F3554F7C295CD3CC4A57492121[1]; } return false; } function myarcade_delete_user($user_ID) { global $wpdb; if ( isset($user_ID) && is_int($user_ID) ) { $wpdb->query("DELETE FROM ".$wpdb->prefix.'myarcadescores'." WHERE `user_id` = '$user_ID'"); $wpdb->query("DELETE FROM ".$wpdb->prefix.'myarcadeuser'." WHERE `user_id` = '$user_ID'"); } } add_action('delete_user', 'myarcade_delete_user'); function myarcade_bar_menu() { global $wp_admin_bar; if ( function_exists('is_admin_bar_showing') ) { if ( !is_super_admin() || !is_admin_bar_showing() ) { return; } $R3584859062EA9ECFB39B93BFCEF8E869 = 'myarcade-bar'; $wp_admin_bar->add_menu( array('id' => $R3584859062EA9ECFB39B93BFCEF8E869, 'title' => 'MyArcade', 'href' => admin_url( 'admin.php?page=myarcade_admin.php') ) ); $wp_admin_bar->add_menu( array('id' => 'fetch-games', 'parent' => $R3584859062EA9ECFB39B93BFCEF8E869, 'title' => 'Fetch Games', 'href' => admin_url('admin.php?page=myarcade-fetch') ) ); $wp_admin_bar->add_menu( array('id' => 'import-games', 'parent' => $R3584859062EA9ECFB39B93BFCEF8E869, 'title' => 'Import Games', 'href' => admin_url('admin.php?page=myarcade-import-games') ) ); $wp_admin_bar->add_menu( array('id' => 'publish-games', 'parent' => $R3584859062EA9ECFB39B93BFCEF8E869, 'title' => 'Publish Games', 'href' => admin_url('admin.php?page=myarcade-publish-games') ) ); $wp_admin_bar->add_menu( array('id' => 'manage-games', 'parent' => $R3584859062EA9ECFB39B93BFCEF8E869, 'title' => 'Manage Games', 'href' => admin_url('admin.php?page=myarcade-manage-games') ) ); $wp_admin_bar->add_menu( array('id' => 'myarcade-settings', 'parent' => $R3584859062EA9ECFB39B93BFCEF8E869, 'title' => 'Settings', 'href' => admin_url('admin.php?page=myarcade-edit-settings') ) ); } } add_action( 'admin_bar_menu', 'myarcade_bar_menu', 1000 ); ?>